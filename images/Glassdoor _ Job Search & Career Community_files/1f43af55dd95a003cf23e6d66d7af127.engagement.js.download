try{"use strict";(()=>{var $=function(){function n(){}return n.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:G(),platform:"Web",os:void 0,deviceModel:void 0}},n}(),G=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},Z=function(){function n(){this.queue=[]}return n.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},n.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(t){e(t)}),this.queue=[])},n}(),I=function(){return I=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},I.apply(this,arguments)};function D(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function T(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),a,s=[],p;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)s.push(a.value)}catch(d){p={error:d}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(p)throw p.error}}return s}var U=function(n,e){var t,r,a=["string","number","boolean","undefined"],s=typeof n,p=typeof e;if(s!==p)return!1;try{for(var d=D(a),y=d.next();!y.done;y=d.next()){var E=y.value;if(E===s)return n===e}}catch(c){t={error:c}}finally{try{y&&!y.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}if(n==null&&e==null)return!0;if(n==null||e==null||n.length!==e.length)return!1;var w=Array.isArray(n),l=Array.isArray(e);if(w!==l)return!1;if(w&&l){for(var o=0;o<n.length;o++)if(!U(n[o],e[o]))return!1}else{var i=Object.keys(n).sort(),u=Object.keys(e).sort();if(!U(i,u))return!1;var f=!0;return Object.keys(n).forEach(function(c){U(n[c],e[c])||(f=!1)}),f}return!0},F="$set",z="$unset",V="$clearAll";Object.entries||(Object.entries=function(n){for(var e=Object.keys(n),t=e.length,r=new Array(t);t--;)r[t]=[e[t],n[e[t]]];return r});var Y=function(){function n(){this.identity={userProperties:{}},this.listeners=new Set}return n.prototype.editIdentity=function(){var e=this,t=I({},this.identity.userProperties),r=I(I({},this.identity),{userProperties:t});return{setUserId:function(a){return r.userId=a,this},setDeviceId:function(a){return r.deviceId=a,this},setUserProperties:function(a){return r.userProperties=a,this},setOptOut:function(a){return r.optOut=a,this},updateUserProperties:function(a){var s,p,d,y,E,w,l=r.userProperties||{};try{for(var o=D(Object.entries(a)),i=o.next();!i.done;i=o.next()){var u=T(i.value,2),f=u[0],c=u[1];switch(f){case F:try{for(var h=(d=void 0,D(Object.entries(c))),m=h.next();!m.done;m=h.next()){var v=T(m.value,2),g=v[0],b=v[1];l[g]=b}}catch(P){d={error:P}}finally{try{m&&!m.done&&(y=h.return)&&y.call(h)}finally{if(d)throw d.error}}break;case z:try{for(var _=(E=void 0,D(Object.keys(c))),S=_.next();!S.done;S=_.next()){var g=S.value;delete l[g]}}catch(P){E={error:P}}finally{try{S&&!S.done&&(w=_.return)&&w.call(_)}finally{if(E)throw E.error}}break;case V:l={};break}}}catch(P){s={error:P}}finally{try{i&&!i.done&&(p=o.return)&&p.call(o)}finally{if(s)throw s.error}}return r.userProperties=l,this},commit:function(){return e.setIdentity(r),this}}},n.prototype.getIdentity=function(){return I({},this.identity)},n.prototype.setIdentity=function(e){var t=I({},this.identity);this.identity=I({},e),U(t,this.identity)||this.listeners.forEach(function(r){r(e)})},n.prototype.addIdentityListener=function(e){this.listeners.add(e)},n.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},n}(),A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:self,C=function(){function n(){this.identityStore=new Y,this.eventBridge=new Z,this.applicationContextProvider=new $}return n.getInstance=function(e){return A.analyticsConnectorInstances||(A.analyticsConnectorInstances={}),A.analyticsConnectorInstances[e]||(A.analyticsConnectorInstances[e]=new n),A.analyticsConnectorInstances[e]},n}();var N=["boot"];var H="$default_instance";function x(n){var a,s,p,d,y,E,w;let e=window.engagement,t={_q:(a=e==null?void 0:e._q)!=null?a:[],_configuration:{apiKey:(p=(s=e==null?void 0:e._configuration)==null?void 0:s.apiKey)!=null?p:"",serverUrl:(d=e==null?void 0:e._configuration)==null?void 0:d.serverUrl,serverZone:(E=(y=e==null?void 0:e._configuration)==null?void 0:y.serverZone)!=null?E:"US",options:{...(w=e==null?void 0:e._configuration)==null?void 0:w.options}},_sentry:void 0,init(l,o){var h,m,v;if(t._configuration.apiKey){console.log("Engagement SDK has already been initialized. Ignoring additional init call.");return}t._configuration={...t._configuration,...o,apiKey:l,options:{splitting:!0,...t._configuration.options,...o==null?void 0:o.options}},(m=(h=t._configuration)==null?void 0:h.options)!=null&&m.logger&&t._configuration.options.logger.enable((v=t._configuration.options.logLevel)!=null?v:2);let i;if(o!=null&&o.cdnUrl)t._configuration.options.splitting?i=`${o.cdnUrl}/engagement-browser/prod/split/index.js`:i=o.cdnUrl+"/engagement-browser/prod/index.min.js.gz";else{let g=t._configuration.serverZone==="EU"?"https://cdn.eu.amplitude.com":"https://cdn.amplitude.com";t._configuration.options.splitting?i=`${g}/engagement-browser/prod/split/index.js`:i=`${g}/engagement-browser/prod/index.min.js.gz`}let u=null,f=()=>{if(u&&(clearTimeout(u),u=null),t._q&&t._q.length>0)for(console.warn(`Engagement SDK failed to load within ${c}ms. Resolving pending calls gracefully.`);t._q.length>0;){let g=t._q.shift();if(!g)continue;let b=g[0];if(N.includes(b)&&g[1]instanceof Function&&g[2]instanceof Function){let _=g[1];console.warn(`Engagement SDK method '${b}' resolved as no-op due to script loading failure`),_(void 0)}}};n(i,t._configuration.options.splitting?"module":void 0,o==null?void 0:o.nonce,f);let c=1e4;u=setTimeout(()=>{f()},c)},plugin(l){let o=t.init;return{name:"@amplitude/engagement-browser",type:"enrichment",async setup(i,u){var h,m;let f=(h=i.instanceName)!=null?h:H,c=C.getInstance(f).identityStore;o(i.apiKey,{serverZone:i.serverZone,serverUrl:(m=i.serverUrl)!=null&&m.includes("amplitude.com")?void 0:i.serverUrl,...l,options:{logLevel:i.logLevel,logger:i.loggerProvider,...l==null?void 0:l.options}}),await window.engagement.boot({user:()=>{let v=c.getIdentity();return{user_id:u.getUserId(),device_id:u.getDeviceId(),user_properties:v.userProperties,getSessionId:u.getSessionId}},integrations:[{track:v=>{u.track(v)}}]}),c.addIdentityListener(v=>{window.engagement._setUserProperties(v.userProperties)})},async execute(i){return window.engagement.forwardEvent(i),i}}}},r=t;return new Proxy(t,{get:function(l,o){if(o in r)return r[o];if(o!=="then")return o==="gs"||o==="rc"?new Proxy({},{get:function(i,u){return function(){let f=Array.from(arguments),c=`${o}.${u}`;f.unshift(c),t._q.push(f)}}}):N.includes(o)?function(){let i=Array.prototype.slice.call(arguments);return new Promise((u,f)=>{i.unshift(o,u,f),t._q.push(i)})}:function(){let i=Array.prototype.slice.call(arguments);i.unshift(o),t._q.push(i)}}})}var K=(a=>(a.Local="https://local.amplitude.com:3010/",a.Staging="https://apps.stag2.amplitude.com/",a.Production="https://app.amplitude.com/",a.ProductionEU="https://app.eu.amplitude.com/",a))(K||{}),O=n=>{if(window.opener)for(let e of Object.values(K))window.opener.postMessage({message:n},e)};function W(n,e,t,r){for(let a of n){let s=document.createElement("script");s.src=a,s.id="engagement-sdk-bundle",t&&s.setAttribute("nonce",t),e&&s.setAttribute("type",e),r&&(s.onerror=r),document.getElementsByTagName("head")[0].appendChild(s)}}var k=()=>(O("ENGAGEMENT_SNIPPET"),x((n,e,t,r)=>W([n||"https://cdn.amplitude.com/engagement-browser/prod/index.min.js.gz"],e,t,r)));var q="US",B="",Q="false",J="false",X="true";window.engagement=k();var R=q!==""?q:void 0,M=B!==""?B:void 0,L={options:{helpCenterEnabled:J==="true"}};M&&(L.serverUrl=M);R&&(L.serverZone=R);setTimeout(()=>{var n,e;(e=(n=window.engagement)==null?void 0:n._configuration)!=null&&e.apiKey||(Q==="true"&&window.amplitude?window.amplitude.add(window.engagement.plugin(L)):X==="true"&&window.engagement.init("1f43af55dd95a003cf23e6d66d7af127",L))},500);})();
}catch(e){console.log(e);}